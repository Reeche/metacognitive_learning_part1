{% extends 'base.html' %}

{% block title %}Choice Game{% endblock %}

{% block top_js_css %}
<!-- JsPsych -->
<script src="https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/jspsych.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/plugins/jspsych-survey-text.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/plugins/jspsych-html-button-response.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jspsych/jsPsych@6.1.0/css/jspsych.css" type="css">
{% endblock top_js_css %}

{% block content %}
<div class="row">
    <div class="row">
        <!-- Error messages -->
        <noscript>
            <h1>Warning: Javascript seems to be disabled</h1>
            <p>This website requires that Javascript be enabled on your browser.</p>
            <p>Instructions for enabling Javascript in your browser can be found
                <a href="http://support.google.com/bin/answer.py?hl=en&answer=23852">here</a>
            <p>
        </noscript>
        <div id='window_error' style='display: none;'>
            <h1>Window too small</h1>
            Your browser window is too small for this experiment to run
            properly.

            Please make your window larger or zoom out.
        </div>

        {% if user.is_authenticated %}
        <!-- Main div -->
        <div id="askTrialNumbers" style="display:none" class="col s6 m6">
            <h5>Please choose the number of trials you wish to conduct.</h5>
            <div class="row">
                <div class="input-field col s6">
                    <input value="" id="numberTrials" type="text" class="validate">
                    <label class="active" for="numberTrials">Please input the number of trials</label>
                </div>
            </div>

            <button class="btn waves-effect waves-light" onclick="readTrialNumber()" type="submit" name="submit" id="submit">Submit
                <i class="material-icons right">send</i>
            </button>
        </div>

        <div id='jspsych-render' class='jspsych-display-element'></div>
        <div id="prettyData">
            <style>
                pre {padding: 5px; margin: 5px; }
                .string { color: green; }
                .number { color: darkorange; }
                .boolean { color: blue; }
                .null { color: magenta; }
                .key { color: red; }
            </style>
        </div>
        {% else %}
        <div class="input-field col s24">
            <h2>You need to login for the Game to work.</h2>
            <br>
            <h2>Please login or signup!</h2>
        </div>
        {% endif %}
    </div>
</div>
{% endblock content %}

{% block bottom_js_css %}
<script src="../static/js/experiment.js" type="text/javascript"></script>
{% endblock bottom_js_css %}
